{% extends "base.html" %}

{% block title %}
	Sign Up
{% endblock %}

{% block content %}
	{% if messages %}
	    {% for message in messages %}
		<!--Panel-->
		<div class="card border-danger mb-3">
		    <div class="card-header text-danger">
		        <p class="card-title">{{ message }}</p>
		    </div>
		</div>
		<!--/.Panel-->
	    {% endfor %}
	{% endif %}

<div class="container mt-4">
	<div class="row">
		<div class="col-md-4"></div>
		<div class="col-md-4">
			<form class="border mt-5 border-secondary text-center p-3" method="post">
				{% csrf_token %}
				<p class="h4 mb-4 text-secondary text-center">Sign up</p>
				{% for field in form %}
				<p>
					{{ field.label_tag }}
					{{ field }}
					{% for error in field.errors %}
					<p style="color: red">{{ error }}</p>
					{% endfor %}
				</p>
				{% endfor %}
				<button class="btn btn-secondary my-4 btn-block" type="submit">Sign up</button>
			</form>
			<!-- Default form register -->
		</div>
		<div class="col-md-4"></div>
	</div>
</div>

{% block script %}
<script type="text/javascript">
	function get_ip(json) {
		$("#id_location").val(json.ip);
	}
</script>

<script src="https://api.ipify.org?format=jsonp&callback=get_ip"></script>
{% endblock %}

{% endblock %}
